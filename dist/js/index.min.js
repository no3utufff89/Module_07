!function(){"use strict";const t=()=>{const t=document.querySelector(".blogs-list"),e=document.querySelector(".pagination__list");return{blogsList:t,paginationBlock:document.querySelector(".pagination"),listPagination:e,paginationArrow:document.querySelectorAll(".pagination__arrow")}},e=(t,e)=>{const n=document.createElement("li");n.className=`pagination__item ${e}`;const a=document.createElement("a");return a.textContent=t,a.style.cssText="\n    display: flex;\n    width: 100%;\n    height: 100%;\n    align-items: center;\n    justify-content: center;\n    ",a.href=1===t?"./blog.html":`./blog.html?page=${t}`,n.append(a),a.addEventListener("click",(t=>{t.preventDefault();let e=+new URLSearchParams(a.search).get("page");window.history.pushState({},"",`?page=${e}`),i(e),0===e&&window.history.pushState({},"",`${window.location.pathname}`)})),n},{paginationArrow:n,listPagination:a}=t(),{blogsList:s}=t(),i=async t=>{try{s.innerHTML="";const{data:i,meta:c}=await(async t=>{const e=await fetch(`https://gorest.co.in/public-api/posts?page=${t}&per_page=8`);return await e.json()})(t);let o=c.pagination;i.forEach((t=>{s.append((({id:t,title:e})=>{const n=document.createElement("li");return n.className="blogs-list__item blog-card",n.innerHTML=`\n    <div class="blog-card__pic">\n                        <img src="./img/blog_01.png" alt="Картинка блога" class="blog-card__img">\n                    </div>\n                     <div class="blog-card__content">\n                            <a href="article.html?id=${t}"class="blog-card__link">\n                                <h3 class="blog-card__title">${e}</h3>\n                            </a>\n                            <div class="blog-card__time-info">\n                                <div class="card-date">\n                                    <span class="card-date__date">25</span>\n                                    <span class="card-date__month">октября</span>\n                                    <span class="card-date__year">2021</span>,&nbsp;\n                                </div>\n                                <div class="card-time">\n                                    <span class="card-time__hour">12</span>\n                                    :\n                                    <span class="card-time__minute">45</span>\n                                </div>\n                            </div>\n                            <div class="blog-card__stat">\n                                <div class="views">\n                                    <svg class="blogs-list__icon icon" width="24" height="25">\n                                        <use class="views-icon" href="./img/sprite.svg#eye-icon" ></use>\n                                    </svg>\n                                    <span class="views-number">\n                                    1.2\n                                </span>\n                                    к\n                                </div>\n                                <div class="comments">\n                                    <svg class="blogs-list__icon icon" width="24" height="24">\n                                        <use class="comments-icon" href="./img/sprite.svg#chat-icon" ></use>\n                                    </svg>\n                                    <span class="comments-number">0</span>\n                                </div>\n                            </div>\n                        </div>\n  `,n})(t))})),(({pages:t},s)=>{a.innerHTML="",0===s&&(s=1);let i=s-1,c=s+1,o="";for(1===s?(i=s,c=i+2,n[0].classList.add("not-active")):n[0].classList.remove("not-active"),s===t&&(i=s-2,c=s,n[1].classList.add("not-active"));i<=c;i++)o=s===i?"is-active":"",a.append(e(i,o))})(o,t)}catch(t){}},c=()=>{let t=+new URLSearchParams(window.location.search).get("page");return 0===t&&(t=1),t},{paginationBlock:o}=t();let r;const{titleText:l,sidebarText:d,contentText:m,infoAuthor:u}={titleText:document.querySelector(".article__title"),sidebarText:document.querySelectorAll(".bread-crumbs__link"),contentText:document.querySelector(".article__text"),infoAuthor:document.querySelector(".author")},h=()=>({headerMenuItem:document.querySelectorAll(".menu-item_header"),menuItemBlock:document.querySelectorAll(".menu-item__block"),headerSubMenuList:document.querySelectorAll(".header__submenu-list"),menuArrowBtn:document.querySelectorAll(".menu-item__btn-open"),menuBtn:document.querySelector(".menu-btn"),headerNav:document.querySelector(".header__nav")});let g=c();h(),i(g),(()=>{try{o.addEventListener("click",(t=>{let e=t.target;r=c(),e.closest(".pagination__arrow_left")&&(r>2?(r--,window.history.pushState({},"",`?page=${r}`),i(r)):(r=1,window.history.pushState({},"",`${window.location.pathname}`),i(r))),e.closest(".pagination__arrow_right")&&(r=c(),r++,window.history.pushState({},"",`?page=${r}`),i(r))}))}catch(t){}})(),(async()=>{try{const{title:t,body:e,user_id:n}=await(async()=>{const t=new URLSearchParams(window.location.search).get("id");if(t){const e=await fetch(`https://gorest.co.in/public-api/posts/${t}`),{data:n}=await e.json();return n}})(),{name:a}=await(async t=>{const e=await fetch(`https://gorest.co.in/public-api/users/${t}`),{data:n}=await e.json();return n})(n);l.textContent=t,d[d.length-1].textContent=t,m.textContent=e}catch(t){}})(),(()=>{const{headerMenuItem:t,menuItemBlock:e,menuArrowBtn:n,headerSubMenuList:a,menuBtn:s,headerNav:i}=h();n.forEach(((e,s)=>{e.addEventListener("click",(()=>{for(let e=0;e<t.length;e+=1)s===e&&(a[e].classList.contains("active")?(a[e].removeAttribute("style"),n[e].classList.remove("menu-item__btn-close")):(a[e].style.height=`${a[e].scrollHeight}px`,n[e].classList.add("menu-item__btn-close")),a[e].classList.toggle("active"))}))})),s.addEventListener("click",(()=>{s.classList.contains("active")?(s.classList.remove("active"),i.classList.remove("active"),a.forEach((t=>{t.classList.remove("active"),t.removeAttribute("style"),n.forEach((t=>{t.classList.remove("menu-item__btn-close")}))}))):(s.classList.add("active"),i.classList.add("active"))}))})()}();